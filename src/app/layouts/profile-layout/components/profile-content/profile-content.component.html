<div class="container">
	<div class="row g-4">
		<div class="col-lg-8 vstack gap-3">
			<div class="card mb-0">
				<div class="h-200px rounded-top" style="background-image: url(assets/images/bg/05.jpg); background-position: center; background-size: cover; background-repeat: no-repeat"></div>

				<div class="card-body py-0">
					<div class="d-sm-flex align-items-start text-center text-sm-start">
						<div>
							<div class="avatar avatar-xxl mt-n5 mb-3">
								<img class="avatar-img rounded-circle border border-white border-3" src="assets/images/avatar/07.jpeg" alt="" />
							</div>
						</div>
						<div class="ms-sm-4 mt-sm-3">
							<h1 class="mb-0 h5">
								Rakesh Babu
								<i class="bi bi-patch-check-fill text-success small"></i>
							</h1>
							<p>250 connections</p>
							<p >
               <i class="bi bi-trophy text-primary"></i>
               <span class="fw-bold mx-2 ">10</span> 
              </p>
						</div>

						<div class="d-flex mt-3 justify-content-center ms-sm-auto">
							<button (click)="openTemplate(editProfile)" class="btn btn-sm btn-danger-soft me-2" type="button">
								<i class="bi bi-pencil-fill pe-1"></i>
								Edit profile
							</button>
						</div>
					</div>

					<ul class="list-inline mb-0 text-center text-sm-start mt-3 mt-sm-0">
						@for (item of allProfileDetail; track $index) {
							<li class="list-inline-item">
								<i class="bi {{ item.icon }} me-1"></i>
								{{ item.text }}
							</li>
						}
					</ul>
				</div>

				<div class="card-footer mt-3 pt-2 pb-0">
					<ul class="nav nav-bottom-line align-items-center justify-content-center justify-content-md-start mb-0 border-0">
						@for (item of allNavItems; track $index) {
							<li class="nav-item">
								<a class="nav-link" [routerLink]="item.routerLink" [routerLinkActive]="'active'">
									{{ item.title }}
									@if (item.badge) {
										<span class="badge {{ item.badge.class }}">
											{{ item.badge.count }}
										</span>
									}
								</a>
							</li>
						}
					</ul>
				</div>
			</div>

			<router-outlet />
		</div>

		<div class="col-lg-4">
			<div class="row g-4">
				<div class="col-sm-6 col-lg-12">
					<div class="card">
						<div class="card-header border-0 pb-0">
							<h5 class="card-title">About</h5>
						</div>

						<div class="card-body position-relative pt-0">
							<p>Ahoy.. Fun Packed Knowledged Fellow. Sailing in the Coding Ocean to find the Forbidden Treasure</p>

							<ul class="list-unstyled mt-3 mb-0">
								@for (item of allAboutDetail; track $index; let last = $last) {
									<li [ngClass]="{ 'mb-2': !last }">
										<i class="bi bi-{{ item.icon }} fa-fw pe-1"></i>
										{{ item.label }}:
										<strong>{{ item.value }}</strong>
									</li>
								}
							</ul>
						</div>
					</div>
				</div>

				<div class="col-sm-6 col-lg-12">
					<div class="card">
						<div class="card-header d-flex justify-content-between border-0">
							<h5 class="card-title">Company Profile</h5>
						</div>

						<div class="card-body position-relative pt-0">
							@for (item of allExperienceItems; track $index) {
								<div class="d-flex mt-3 align-items-center">
									<div class="avatar me-3">
										<a href="javascript:void(0);">
											<img style="height: 40px; width: 80%" class="avatar-img rounded-circle" [src]="item.logo" alt="" />
										</a>
									</div>

									<div class="">
										<h6 class="card-title">
											<a href="javascript:void(0);">{{ item.company }}</a>
										</h6>
										<span class="small">
                      {{item.email}}
										</span><br>
										<span class="small">
                      {{item.contact}}
										</span>
									</div>
								</div>
							}
						</div>
					</div>
				</div>
				<!-- 
        <div class="col-sm-6 col-lg-12">
          <div class="card">
            <div class="card-header d-sm-flex justify-content-between border-0">
              <h5 class="card-title">Photos</h5>
              <a class="btn btn-primary-soft btn-sm" href="javascript:void(0);">
                See all photo</a
              >
            </div>

            <div class="card-body position-relative pt-0">
              <lightgallery [settings]="settings" class="row g-2">
                <div class="col-6">
                  <a
                    href="assets/images/albums/01.jpg"
                    data-gallery="image-popup"
                    data-glightbox=""
                  >
                    <img
                      class="rounded img-fluid"
                      src="assets/images/albums/01.jpg"
                      alt=""
                    />
                  </a>
                </div>

                <div class="col-6">
                  <a
                    href="assets/images/albums/02.jpg"
                    data-gallery="image-popup"
                    data-glightbox=""
                  >
                    <img
                      class="rounded img-fluid"
                      src="assets/images/albums/02.jpg"
                      alt=""
                    />
                  </a>
                </div>

                <div class="col-4">
                  <a
                    href="assets/images/albums/03.jpg"
                    data-gallery="image-popup"
                    data-glightbox=""
                  >
                    <img
                      class="rounded img-fluid"
                      src="assets/images/albums/03.jpg"
                      alt=""
                    />
                  </a>
                </div>

                <div class="col-4">
                  <a
                    href="assets/images/albums/04.jpg"
                    data-gallery="image-popup"
                    data-glightbox=""
                  >
                    <img
                      class="rounded img-fluid"
                      src="assets/images/albums/04.jpg"
                      alt=""
                    />
                  </a>
                </div>

                <div class="col-4">
                  <a
                    href="assets/images/albums/05.jpg"
                    data-gallery="image-popup"
                    data-glightbox=""
                  >
                    <img
                      class="rounded img-fluid"
                      src="assets/images/albums/05.jpg"
                      alt=""
                    />
                  </a>
                </div>
              </lightgallery>
            </div>
          </div>
        </div>

        <div class="col-sm-6 col-lg-12">
          <div class="card">
            <div
              class="card-header d-sm-flex justify-content-between align-items-center border-0"
            >
              <h5 class="card-title">
                Friends
                <span class="badge bg-danger bg-opacity-10 text-danger"
                  >230</span
                >
              </h5>
              <a class="btn btn-primary-soft btn-sm" href="javascript:void(0);">
                See all friends</a
              >
            </div>

            <div class="card-body position-relative pt-0">
              <div class="row g-3">
                @for (item of allFriendsData; track $index) {
                  <div class="col-6">
                    <div class="card shadow-none text-center h-100">
                      <div class="card-body p-2 pb-0">
                        <div
                          class="avatar avatar-xl"
                          [ngClass]="{ 'avatar-story': item.status }"
                        >
                          <a href="javascript:void(0);"
                            ><img
                              class="avatar-img rounded-circle"
                              [src]="item.avatar"
                              alt=""
                          /></a>
                        </div>
                        <h6 class="card-title mb-1 mt-3">
                          <a href="javascript:void(0);"> {{ item.name }} </a>
                        </h6>
                        <p class="mb-0 small lh-sm">
                          {{ item.mutualConnections }} mutual connections
                        </p>
                      </div>

                      <div class="card-footer p-2 border-0">
                        <button
                          class="btn btn-sm btn-primary me-1"
                          placement="top"
                          ngbTooltip="Send message"
                        >
                          <i class="bi bi-chat-left-text"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-danger"
                          placement="top"
                          ngbTooltip="Remove friend"
                        >
                          <i class="bi bi-person-x"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                }
              </div>
            </div>
          </div>
        </div> -->
			</div>
		</div>
	</div>
</div>

<ng-template #editProfile let-modal>
  <div class="offcanvas-header pb-0">
    <h5 class="offcanvas-title">Edit Profile</h5>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <hr class="my-1" />
  <div class="offcanvas-body">
    <!-- Banner / Background Image -->
    <div class="w-100" style="height: 180px; background-size: cover; background-position: center;"
         [ngStyle]="{'background-image': 'url(' + (bannerPreview || defaultBanner) + ')'}">
    </div>

    <!-- Profile Pic (floating) -->
    <div class="text-center position-relative" style="margin-top: -50px;">
      <img [src]="profilePreview || defaultAvatar" class="rounded-circle border border-white shadow" width="100" height="100" />
    </div>

    <!-- Profile Info -->
    <div class="text-center mt-2 mb-4">
      <h5 class="mb-0">{{ editProfileForm.value.fullName || 'Your Name' }}</h5>
      <small class="text-muted">{{ editProfileForm.value.email || 'email@example.com' }}</small>
    </div>

    <!-- Form -->
    <div class="p-4">
      <form [formGroup]="editProfileForm" (ngSubmit)="onEditProfileSubmit()">
        <div class="row">
          <div class="col-sm-12 col-md-6 mb-3">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-control" formControlName="fullName" placeholder="Bruce Wayne" />
          </div>

          <div class="col-sm-12 col-md-6 mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" formControlName="email" placeholder="bruce@wayne.com" />
          </div>

          <div class="col-sm-12 col-md-6 mb-3">
            <label class="form-label">Phone</label>
            <input type="tel" class="form-control" formControlName="phone" placeholder="+1 123 456 7890" />
          </div>

          <div class="col-sm-12 col-md-6 mb-3">
            <label class="form-label">Country</label>
            <select class="form-select" formControlName="country">
              <option value="United States">United States</option>
              <option value="India">India</option>
              <option value="UK">UK</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="col-sm-12 mb-3">
            <label class="form-label">Bio</label>
            <textarea class="form-control" formControlName="bio" rows="2" placeholder="I'm the night. I'm Batman."></textarea>
          </div>

          <div class="col-sm-12 col-md-6 mb-3">
            <label class="form-label">Date of Birth</label>
            <input type="date" class="form-control" formControlName="dob" />
          </div>

          <div class="col-sm-12 col-md-6 mb-3">
            <label class="form-label">Profile Picture</label>
            <input type="file" class="form-control" (change)="onFileChange($event, 'profilePic')" />
          </div>

          <div class="col-sm-12 mb-4">
            <label class="form-label">Banner Image</label>
            <input type="file" class="form-control" (change)="onFileChange($event, 'backgroundPic')" />
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="col-sm-12 text-center">
          <button type="button" class="btn btn-outline-secondary me-2" (click)="modal.dismiss()">Cancel</button>
          <button type="submit" class="btn btn-primary" [disabled]="editProfileForm.invalid">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</ng-template>

